# RBAC 角色访问控制

## 设计

### 角色权限模型

- 角色分层：通常有超级管理员、管理员、普通用户等不同层级的角色。
- 角色继承：上级角色的权限可以继承给下级角色,形成权限的层级关系。
- 角色权限矩阵：为每个角色明确定义可执行的操作,如查看、编辑、删除等。
- 角色动态分配：根据用户所属部门、客户等动态分配角色和权限。

### 资源权限设计

- 资源分类: 将系统中的功能、页面、数据等划分为不同的资源类型。
- 资源权限: 为每种资源定义CRUD(Create, Read, Update, Delete)等操作权限。
- 资源权限组合: 可将多个资源组合成一个权限组,便于统一管理。
- 资源权限传播: 用户对某资源的权限可以传播到其创建的子资源。

### 细粒度权限控制

- 字段级权限: 对于敏感数据,可以控制用户对某些字段的访问权限。
- 行级权限: 根据数据的归属关系(如部门、客户)控制用户的数据访问范围。
- 操作级权限: 对于复杂的业务操作,可以为不同操作分配单独的权限。

### 权限审计和日志

- 操作日志: 记录用户的操作历史,包括操作时间、操作人、操作内容等。
- 权限变更日志: 记录权限分配、修改、撤销等变更事件。
- 定期审计: 管理员可以定期审计权限分配情况,检查是否存在异常。
- 合规性支持: 权限审计日志有助于满足法规和行业标准的合规性要求。

### 单点登录与权限集成

- 统一身份认证: 与企业 SSO 系统集成,实现统一的用户认证。
- 权限同步传播: 用户在 SSO 系统的权限变更能够同步到 SaaS 应用中。
- 免重复登录: 用户在 SSO 系统登录后,无需重复登录即可访问集成的 SaaS 应用。
- 权限隔离: 不同企业用户的权限相互隔离,避免信息和操作的越权。

```sql
-- 用户表 (users)
```



